# BBB Controller - Mac Setup Instructions

## Current Status
✅ Flutter project structure created on Windows  
✅ Dependencies configured in `pubspec.yaml`  
✅ Main Flutter app code ready in `lib/main.dart`  
❌ iOS platform files need to be generated on Mac (where Xcode is installed)

## What You Need to Do on Your Mac

### 1. Transfer Project to Mac
Copy the entire `app/` folder to your Mac.

### 2. Open Terminal on Mac and Navigate to Project
```bash
cd path/to/your/app/folder
```

### 3. Generate iOS Platform Files
This command will create the proper iOS/Xcode project structure:
```bash
flutter create --platforms=ios .
```

This will generate:
- `ios/Runner.xcodeproj/` (proper Xcode project)
- `ios/Runner/Info.plist`
- All necessary iOS platform files

### 4. Install Dependencies
```bash
flutter pub get
```

### 5. Configure iOS Permissions for Bluetooth
Edit `ios/Runner/Info.plist` and add these permissions before `</dict>`:

```xml
<!-- Bluetooth permissions for flutter_blue_plus -->
<key>NSBluetoothAlwaysUsageDescription</key>
<string>This app needs Bluetooth access to communicate with BeagleBone Black device</string>
<key>NSBluetoothPeripheralUsageDescription</key>
<string>This app needs Bluetooth access to communicate with BeagleBone Black device</string>
<key>NSBluetoothAdvertisingUsageDescription</key>
<string>This app needs Bluetooth advertising to discover BeagleBone Black device</string>
```

### 6. Open in Xcode
```bash
open ios/Runner.xcodeproj
```

### 7. Build for iPad
In Xcode:
- Select your iPad as target device
- Ensure signing certificates are configured
- Build and run (⌘+R)

## Why This Approach Works Better

1. **Flutter on Mac** will generate proper iOS files compatible with your Xcode version
2. **No manual Xcode project creation** - Flutter handles all the complex build configurations
3. **Proper plugin integration** - flutter_blue_plus will be correctly configured
4. **No build phase errors** - Flutter creates valid Xcode project structure

## Your Current Project Structure
```
app/
├── pubspec.yaml          ✅ Ready
├── lib/
│   └── main.dart         ✅ Ready (with corrected BBB commands)
└── README_MAC_SETUP.md   ✅ This file
```

## After Running `flutter create --platforms=ios .` on Mac
```
app/
├── pubspec.yaml          ✅ Ready
├── lib/
│   └── main.dart         ✅ Ready
└── ios/                  ✅ Generated by Flutter
    ├── Runner.xcodeproj/ ✅ Proper Xcode project
    └── Runner/           ✅ iOS app files
        └── Info.plist    ✅ (needs Bluetooth permissions added)
```

## Troubleshooting

### If `flutter create` doesn't work:
```bash
# Make sure Flutter is in PATH
export PATH="$PATH:/path/to/flutter/bin"

# Check Flutter doctor
flutter doctor

# Try creating in a new directory first
flutter create test_app
```

### If build still fails:
```bash
flutter clean
flutter pub get
flutter create --platforms=ios .
```

This approach will create a proper Flutter iOS project that Xcode can open without any "damaged project" errors!